buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:1.2.3'
    }
}

apply plugin: 'java'
apply plugin: 'com.github.johnrengelman.shadow'

repositories {
    jcenter()
    maven {
        name = 'sponge'
        url = 'http://repo.spongepowered.org/maven'
    }
    mavenLocal()
}

dependencies {
    compile 'org.spongepowered:spongeapi:5.0.0-SNAPSHOT'
    compile 'org.scala-lang.modules:scala-java8-compat_2.11:0.7.0'
    compile('io.github.katrix:spongebt:1.1.0') {
        exclude group: 'org.spongepowered'
    }
}

configurations {
    runtime.exclude module: 'spongeapi' //This way we don't get the SpongeAPI in the jar
}

shadowJar {
    relocate 'io.github.katrix.spongebt', 'io.github.katrix.chitchat.spongebt'
    relocate 'scala', 'io.github.katrix.chitchat.spongebt.scala'
    archiveName = "ChitChat-shaded.${extension}"
}